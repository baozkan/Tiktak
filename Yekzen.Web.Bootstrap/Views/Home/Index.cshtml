@{
    ViewBag.Title = "Home Page";
}


<div class="row">
    <div class="col-md-12 main-content">
    </div>

    <div class="col-md-12 main-data">
    </div>
</div>

<form>
    <div class="form-group">
        <label for="exampleInputEmail1">Email address</label>
        <input type="email" class="form-control" id="exampleInputEmail1" placeholder="Email">
    </div>
    <div class="form-group">
        <label for="exampleInputPassword1">Password</label>
        <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
    </div>
    <div class="form-group">
        <label for="exampleInputFile">File input</label>
        <input type="file" id="exampleInputFile">
        <p class="help-block">Example block-level help text here.</p>
    </div>
    <div class="checkbox">
        <label>
            <input type="checkbox"> Check me out
        </label>
    </div>
    <button type="submit" class="btn btn-default">Submit</button>
</form>

@section scripts
{
    <script id="form_input" type="x-tmpl-mustache">
        <form>
            <% $.each(Fields.Items.Items, function (index, item) {
                if(item.Fields.InputType == 'submit') {%>
            <button type="<%=item.Fields.InputType%>" class="btn btn-default"><%=item.Fields.Title%></button>
            <% } else {%>
            <div class="form-group">
                <label for="input<%=item.Fields.InputType%>"><%=item.Fields.Title%></label>
                <input type="<%=item.Fields.InputType%>" class="form-control" id="input<%=item.Fields.InputType%>" placeholder="<%=item.Fields.InputType%>">
            </div>
            <% } }); %>
        </form>
    </script>

    <script type="text/javascript">
        $(document).ready(function () {
            $.getJSON("/Home/Data", null, function (data) {

                $('.main-data').html(JSON.stringify(data));
                var template = _.template($('#form_input').html());
                $('.main-content').append(template(data));
            });
        });
    </script>
}
